UPDATE `system` SET `value`='v0.5.0' WHERE `groupe`='module' and `name`='osteo';

-- forms
SET @catID = (SELECT forms_cat.id FROM forms_cat WHERE forms_cat.name='formCS');
INSERT IGNORE INTO `forms` (`module`, `internalName`, `name`, `description`, `dataset`, `groupe`, `formMethod`, `formAction`, `cat`, `type`, `yamlStructure`, `options`, `printModel`, `cda`, `javascript`) VALUES
('osteo', 'osteoConsult', 'Formulaire CS', 'formulaire de consultation osteo', 'data_types', 'medical', 'post', '/patient/ajax/saveCsForm/ignoreEmpty/', @catID, 'public', '---\nglobal:\n  formClass: osteoCS hide\nstructure:\n  row1:\n    class: osteoAnamnese\n    head: Anamnèse\n    col1:\n      size: 12\n      bloc:\n      - osteoAnamnese,nolabel,rows=2\n  row2:\n    class: osteoTests\n    head: Tests\n    col1:\n      size: 12\n      bloc:\n      - osteoTests,nolabel,rows=2\n  row3:\n    class: osteoOArray\n    col1:\n      size: 12\n      bloc:\n      - osteoObservation,nolabel, row=2\n  row4:\n    head: Diagnostic\n    col1:\n      size: 12\n      bloc:\n      - osteoDiagnostic,nolabel\n  row5:\n    head: Traitement\n    col1:\n      size: 12\n      bloc:\n      - osteoTraitement,nolabel,row=2\n  row6:\n    head: Notes\n    col1:\n      size: 12\n      bloc:\n      - osteoNotes,nolabel,row=2\n  row7:\n    class: osteoVArray\n    col1:\n      size: 12\n      bloc:\n      - template{osteoConsult}\n      - osteoCuneiforme_I_Gch,nolabel\n      - osteoCuneiforme_I_Drt,nolabel\n      - osteoCuneiforme_II_Gch,nolabel\n      - osteoCuneiforme_II_Drt,nolabel\n      - osteoCuneiforme_III_Gch,nolabel\n      - osteoCuneiforme_III_Drt,nolabel\n      - osteoCalcaneum_Gch,nolabel\n      - osteoCalcaneum_Drt,nolabel\n      - osteoCapitatum_Gch,nolabel\n      - osteoCapitatum_Drt,nolabel\n      - osteoCuboide_Gch,nolabel\n      - osteoCuboide_Drt,nolabel\n      - osteoHamatum_Gch,nolabel\n      - osteoHamatum_Drt,nolabel\n      - osteoIlium_Gch,nolabel\n      - osteoIlium_Drt,nolabel\n      - osteoLunatum_Gch,nolabel\n      - osteoLunatum_Drt,nolabel\n      - osteoMetacarpe_I_Gch,nolabel\n      - osteoMetacarpe_I_Drt,nolabel\n      - osteoMetacarpe_II_Gch,nolabel\n      - osteoMetacarpe_II_Drt,nolabel\n      - osteoMetacarpe_III_Gch,nolabel\n      - osteoMetacarpe_III_Drt,nolabel\n      - osteoMetacarpe_IV_Gch,nolabel\n      - osteoMetacarpe_IV_Drt,nolabel\n      - osteoMetacarpe_V_Gch,nolabel\n      - osteoMetacarpe_V_Drt,nolabel\n      - osteoNaviculaire_Gch,nolabel\n      - osteoNaviculaire_Drt,nolabel\n      - osteoP1_I_Gch,nolabel\n      - osteoP1_I_Drt,nolabel\n      - osteoP1_II_Gch,nolabel\n      - osteoP1_II_Drt,nolabel\n      - osteoP1_III_Gch,nolabel\n      - osteoP1_III_Drt,nolabel\n      - osteoP1_IV_Gch,nolabel\n      - osteoP1_IV_Drt,nolabel\n      - osteoP1_V_Gch,nolabel\n      - osteoP1_V_Drt,nolabel\n      - osteoP2_I_Gch,nolabel\n      - osteoP2_I_Drt,nolabel\n      - osteoP2_II_Gch,nolabel\n      - osteoP2_II_Drt,nolabel\n      - osteoP2_III_Gch,nolabel\n      - osteoP2_III_Drt,nolabel\n      - osteoP2_IV_Gch,nolabel\n      - osteoP2_IV_Drt,nolabel\n      - osteoP2_V_Gch,nolabel\n      - osteoP2_V_Drt,nolabel\n      - osteoP3_II_Gch,nolabel\n      - osteoP3_II_Drt,nolabel\n      - osteoP3_III_Gch,nolabel\n      - osteoP3_III_Drt,nolabel\n      - osteoP3_IV_Gch,nolabel\n      - osteoP3_IV_Drt,nolabel\n      - osteoP3_V_Gch,nolabel\n      - osteoP3_V_Drt,nolabel\n      - osteo_p1_I_Gch,nolabel\n      - osteo_p1_I_Drt,nolabel\n      - osteo_p1_II_Gch,nolabel\n      - osteo_p1_II_Drt,nolabel\n      - osteo_p1_III_Gch,nolabel\n      - osteo_p1_III_Drt,nolabel\n      - osteo_p1_IV_Gch,nolabel\n      - osteo_p1_IV_Drt,nolabel\n      - osteo_p1_V_Gch,nolabel\n      - osteo_p1_V_Drt,nolabel\n      - osteo_p2_I_Gch,nolabel\n      - osteo_p2_I_Drt,nolabel\n      - osteo_p2_II_Gch,nolabel\n      - osteo_p2_II_Drt,nolabel\n      - osteo_p2_III_Gch,nolabel\n      - osteo_p2_III_Drt,nolabel\n      - osteo_p2_IV_Gch,nolabel\n      - osteo_p2_IV_Drt,nolabel\n      - osteo_p2_V_Gch,nolabel\n      - osteo_p2_V_Drt,nolabel\n      - osteoPatella_Gch,nolabel\n      - osteoPatella_Drt,nolabel\n      - osteoPisiforme_Gch,nolabel\n      - osteoPisiforme_Drt,nolabel\n      - osteoSacrum,nolabel\n      - osteoScaphoide_Gch,nolabel\n      - osteoScaphoide_Drt,nolabel\n      - osteoScapula_Gch,nolabel\n      - osteoScapula_Drt,nolabel\n      - osteoTalus_Gch,nolabel\n      - osteoTalus_Drt,nolabel\n      - osteoTibia_Gch,nolabel\n      - osteoTibia_Drt,nolabel\n      - osteoTrapezium_Gch,nolabel\n      - osteoTrapezium_Drt,nolabel\n      - osteoTrapezoide_Gch,nolabel\n      - osteoTrapezoide_Drt,nolabel\n      - osteoTriquetrum_Gch,nolabel\n      - osteoTriquetrum_Drt,nolabel\n      - osteoMetatarse_I_Gch,nolabel\n      - osteoMetatarse_I_Drt,nolabel\n      - osteoMetatarse_II_Gch,nolabel\n      - osteoMetatarse_II_Drt,nolabel\n      - osteoMetatarse_III_Gch,nolabel\n      - osteoMetatarse_III_Drt,nolabel\n      - osteoMetatarse_IV_Gch,nolabel\n      - osteoMetatarse_IV_Drt,nolabel\n      - osteoMetatarse_V_Gch,nolabel\n      - osteoMetatarse_V_Drt,nolabel\n      - osteoMetatarso_phalangienne_Gch,nolabel\n      - osteoMetatarso_phalangienne_Drt,nolabel\n      - osteoTibio_fibulaire_distale_Gch,nolabel\n      - osteoTibio_fibulaire_distale_Drt,nolabel\n      - osteoATM_Gch,nolabel\n      - osteoATM_Drt,nolabel\n      - osteoSterno_claviculaire_Gch,nolabel\n      - osteoSterno_claviculaire_Drt,nolabel\n      - osteoAcromio_claviculaire_Gch,nolabel\n      - osteoAcromio_claviculaire_Drt,nolabel\n      - osteoGleno_humerale_Gch,nolabel\n      - osteoGleno_humerale_Drt,nolabel\n      - osteoTete_radiale_Gch,nolabel\n      - osteoTete_radiale_Drt,nolabel\n      - osteoUlna_proximal_Gch,nolabel\n      - osteoUlna_proximal_Drt,nolabel\n      - osteoFemoro_acetabulaire_Gch,nolabel\n      - osteoFemoro_acetabulaire_Drt,nolabel\n      - osteoTibio_fibulaire_prox_Gch,nolabel\n      - osteoTibio_fibulaire_prox_Drt,nolabel\n      - osteoSymphyse,nolabel\n      - osteoStyloide_radiale_Gch,nolabel\n      - osteoStyloide_radiale_Drt,nolabel\n      - osteoUlna_distal_Gch,nolabel\n      - osteoUlna_distal_Drt,nolabel\n      - osteoC0,nolabel\n      - osteoC1,nolabel\n      - osteoC2,nolabel\n      - osteoC3,nolabel\n      - osteoC4,nolabel\n      - osteoC5,nolabel\n      - osteoC6,nolabel\n      - osteoC7,nolabel\n      - osteoT1,nolabel\n      - osteoT2,nolabel\n      - osteoT3,nolabel\n      - osteoT4,nolabel\n      - osteoT5,nolabel\n      - osteoT6,nolabel\n      - osteoT7,nolabel\n      - osteoT8,nolabel\n      - osteoT9,nolabel\n      - osteoT10,nolabel\n      - osteoT11,nolabel\n      - osteoT12,nolabel\n      - osteoK1_Gch,nolabel\n      - osteoK1_Drt,nolabel\n      - osteoK2_Gch,nolabel\n      - osteoK2_Drt,nolabel\n      - osteoK3_Gch,nolabel\n      - osteoK3_Drt,nolabel\n      - osteoK4_Gch,nolabel\n      - osteoK4_Drt,nolabel\n      - osteoK5_Gch,nolabel\n      - osteoK5_Drt,nolabel\n      - osteoK6_Gch,nolabel\n      - osteoK6_Drt,nolabel\n      - osteoK7_Gch,nolabel\n      - osteoK7_Drt,nolabel\n      - osteoK8_Gch,nolabel\n      - osteoK8_Drt,nolabel\n      - osteoK9_Gch,nolabel\n      - osteoK9_Drt,nolabel\n      - osteoK10_Gch,nolabel\n      - osteoK10_Drt,nolabel\n      - osteoK11_Gch,nolabel\n      - osteoK11_Drt,nolabel\n      - osteoK12_Gch,nolabel\n      - osteoK12_Drt,nolabel\n      - osteoL1,nolabel\n      - osteoL2,nolabel\n      - osteoL3,nolabel\n      - osteoL4,nolabel\n      - osteoL5,nolabel\n      - osteoCoccyx,nolabel\n...\n', '', 'csOsteo', '', '$(document).ready(function() {\r\n  //ajutement auto des textarea en hauteur\r\n  autosize($(\'#formName_osteoConsult textarea\')); \r\n\r\n  if (!$(\".mousehelper\").length) \r\n    $(\"body\").append(\'<div class=\"helper hide mousehelper\"></div>\');\r\n\r\n  if (!$(\".svgMenuSingle\").length)\r\n    $(\"body\").append(\'\\\r\n      <ul class=\"dropdown-menu svgMenuSingle\" role=\"menu\" style=\"display:none;position:absolute;\" >\\\r\n          <li id=\"title><span tabindex=\"-1\" style=\"margin-left:20px;margin-right:10px;font-weight:700\">Menu</span></li>\\\r\n          <li class=\"dropdown-divider\"></li>\\\r\n      </ul>\');\r\n  if (!$(\".svgMenuMulti\").length)\r\n    $(\"body\").append(\'\\\r\n      <ul class=\"dropdown-menu svgMenuMulti\" role=\"menu\" style=\"display:none;position:absolute;\" >\\\r\n          <li id=\"title><span tabindex=\"-1\" style=\"margin-left:20px;margin-right:10px;font-weight:700\">Menu</span></li>\\\r\n          <li class=\"dropdown-divider\"></li>\\\r\n      </ul>\');\r\n\r\n\r\n  $(\"#navosteo\").insertAfter(\".osteoTests\");\r\n  $(\"#tabosteo\").insertAfter(\"#navosteo\");\r\n  $(\".osteoVArray\").appendTo(\"#zonesdo\");\r\n  $(\".osteoOArray\").appendTo(\"#observation\");\r\n $(\".osteoCS.hide\").removeClass(\"hide\");\r\n\r\n  (function() {\r\n\r\n    $(\'[data-toggle=\"popover\"]\').popover({container: \"#svgparent\"});\r\n\r\n    function checkall($d) {\r\n      var setmatrix = false;\r\n      var m = $d.panzoom(\"getMatrix\");\r\n      for (var i = 0; i < 6; i++) m[i] = parseInt(m[i]);\r\n      var w = $d.width();\r\n      var h = $d.height();\r\n      var wp = $d.parent().width();\r\n      var hp = $d.parent().height();\r\n      var limits = [w*(m[0]+1)/2-200, wp+w*(m[0]-1)/2-200, h*(m[0]+1)/2-200, hp+h*(m[0]-1)/2-200];\r\n\r\n      if (m[4] < -limits[0]){\r\n        m[4] = -limits[0];\r\n        setmatrix = true;\r\n      }\r\n      else if (m[4] > limits[1]){\r\n        m[4] = limits[1];\r\n        setmatrix = true;\r\n      };\r\n      if (m[5] < -limits[2]){\r\n        m[5] = -limits[2];\r\n        setmatrix = true;\r\n      }\r\n      else if (m[5] > limits[3]){\r\n        m[5] = limits[3];\r\n        setmatrix = true;\r\n      }\r\n      if (setmatrix)\r\n        $d.panzoom(\"pan\",m[4],m[5]);\r\n    }\r\n\r\n    var clickTO;\r\n    var $panzoom = $(\'.panzoom\').panzoom({\r\n        cursor:\"default\",\r\n        minScale: 1,\r\n        maxScale: 4,\r\n        transition: $(window).width()>=1024,\r\n        $zoomIn: $(\".zoomIn\"),\r\n        $zoomOut: $(\".zoomOut\"),\r\n        onStart: function(){\r\n          clickTO=setTimeout(function(){\r\n            $(\"#skeleton\").css(\"cursor\",\"move\");\r\n            clickTO=undefined;\r\n          }, 100)\r\n        },\r\n        onEnd: function(){\r\n          checkall($(this));\r\n          $(\"#skeleton\").css(\"cursor\",\"default\");\r\n          if (clickTO)\r\n            clearTimeout(clickTO)\r\n        }\r\n    });\r\n    $panzoom.parent().on(\'mousewheel.focal\', function( e ) {\r\n      if (e.ctrlKey==1) {\r\n        var delta = e.delta || e.originalEvent.wheelDelta;\r\n        var zoomOut = delta ? delta < 0 : e.originalEvent.deltaY > 0;\r\n        e.preventDefault();\r\n        $panzoom.panzoom(\'zoom\', zoomOut, {\r\n          minScale: 1,\r\n          maxScale: 4,\r\n          animate:false,\r\n          focal: e\r\n        });\r\n      };\r\n    });\r\n  })();\r\n\r\n  function setOsteoSelected(entry){\r\n    if (entry) {\r\n      var $entry = $(\"input[placeholder=\'\"+entry+\"\']\");\r\n      if (!$entry.length)\r\n        return;\r\n      var $svgOs = $(\".os[value=\'\"+entry+\"\']\");\r\n      var $svgArt = $(\".articulation[value=\'\"+entry+\"\']\");\r\n      var value = $entry.attr(\"value\");\r\n      if ($svgOs.length)\r\n        $svgOs.each(function(idx,el){\r\n          if (!value || value == \"\")\r\n            el.className.baseVal = el.className.baseVal.replace(\" selected\",\"\");\r\n          else if (el.className.baseVal.indexOf(\" selected\") < 0)\r\n            el.className.baseVal += \" selected\";\r\n        });\r\n      else if ($svgArt.length)\r\n        $svgArt.each(function(idx,el){\r\n          if (!value || value == \"\" && el.className.baseVal.indexOf(\" nonvisible\") < 0)\r\n            el.className.baseVal += \" nonvisible\";\r\n          else\r\n            el.className.baseVal = el.className.baseVal.replace(\" nonvisible\",\"\");\r\n        });\r\n    }\r\n    else\r\n    {\r\n      $(\"input[type=hidden]\").each(function(index, element){\r\n        var entry = $(element).attr(\"placeholder\");\r\n        if (!entry || entry == \"\")\r\n          return;\r\n        var $svgOs = $(\".os[value=\'\"+entry+\"\']\");\r\n        var $svgArt = $(\".articulation[value=\'\"+entry+\"\']\");\r\n        var value = $(element).attr(\"value\");\r\n        if ($svgOs.length)\r\n          $svgOs.each(function(idx,el){\r\n            if (!value || value == \"\")\r\n              el.className.baseVal = el.className.baseVal.replace(\" selected\",\"\");\r\n            else if (el.className.baseVal.indexOf(\" selected\") < 0)\r\n              el.className.baseVal += \" selected\";\r\n          });\r\n        else if ($svgArt.length)\r\n          $svgArt.each(function(idx,el){\r\n            if ((!value || value == \"\") && el.className.baseVal.indexOf(\" nonvisible\") < 0)\r\n              el.className.baseVal += \" nonvisible\";\r\n            else if (value && value != \"\")\r\n              el.className.baseVal = el.className.baseVal.replace(\" nonvisible\",\"\");\r\n          });\r\n      });\r\n    }\r\n  }\r\n  setOsteoSelected();\r\n\r\n  function svgFit(animate){\r\n    var $s = $(\"#skeleton\");\r\n    $s.panzoom(\'setMatrix\', [1, 0, 0, 1, ($s.parent().width() - 20 - $s.width()) / 2, 10], {animate:animate});\r\n    $s.parent().height($s.height()+20);\r\n  };\r\n  svgFit(false);\r\n  \r\n  $(document).scroll(function(e){\r\n    if ($(\"#svgparent\").length)\r\n      $(\".tools\").css(\"top\", Math.min($(\"#svgparent\").height()-$(\".tools\").height()+20, Math.max(0, e.pageY+60-$(\"#svgparent\").offset().top)));\r\n  });\r\n\r\n  $(\"body\").on(\"touchstart\", \"#skeleton\", function(e){\r\n    if(e.touches.length>1)\r\n      e.stopPropagation();\r\n  });\r\n\r\n  $(\"body\").on(\"touchstart\", \"path,g,div,svg,form\", function(e){\r\n    if(e.touches.length > 1)\r\n      e.preventDefault();\r\n  });\r\n\r\n  $(\"body\").on(\"touchmove\", \"path,g,div,svg,form\", function(e){\r\n    if(e.touches.length > 1)\r\n      e.preventDefault();\r\n  });\r\n\r\n  $(\"body\").on(\"mousedown\", \".showAll\", function(){\r\n    $(\".os:not(.show),.articulation:not(.show)\").each(function(idx,el){el.className.baseVal+=\" show\"})\r\n  });\r\n  $(\"body\").on(\"mouseup\", \".showAll\", function(){\r\n    $(\".selectable,.os,.articulation\").each(function(idx,el){el.className.baseVal=el.className.baseVal.replace(\" show\", \"\")})\r\n  });\r\n\r\n  $(\"body\").on(\"click\", \".zoomFit\", function(){\r\n    svgFit(true);\r\n  });\r\n  $(window).on(\"resize\", function(){\r\n    svgFit(true);\r\n  });\r\n\r\n  $(\"body\").on(\"click\", \".menuSingle\", function (e) {\r\n    var $menu = $(\".svgMenuSingle\")\r\n      .show()\r\n      .css({left: Math.max(0, e.pageX-50), top: Math.max(0, e.pageY-50)})\r\n      .off(\'click\')\r\n      .on(\"mouseleave\", function(){\r\n        $(this).hide()\r\n        .children(\"li:nth-child(n+3)\").remove();\r\n      })\r\n      .on(\'click\', \'a\', function (e) {\r\n        e.stopImmediatePropagation();\r\n        var chk = $(this).children(\"input\").prop(\"checked\");\r\n        $(this).parent().parent().find(\"input\").prop(\"checked\", false);\r\n        $(this).children(\"input\").prop(\"checked\", !chk);\r\n        //on fixe la valeur de l\'entrée de formulaire\r\n        var $entry = $(\"input[placeholder=\'\"+$(this).attr(\'data-entry\')+\"\']\");\r\n        var value = $(this).attr(\'data-value\');\r\n        if (chk)\r\n          $entry.attr(\"value\", \"\");\r\n        else\r\n          $entry.attr(\"value\", value);\r\n        setOsteoSelected($(this).attr(\'data-entry\'));\r\n      });\r\n    var title = $(this).attr(\"value\");\r\n    var items = $(this).attr(\"menu\").trim().split(\",\");\r\n    $menu.children().first().html(title);\r\n    $menu.children((\"li:gt(1)\")).remove();\r\n    for (var i=0; i< items.length; i++)\r\n      $menu.append(\'<li><a tabindex=\"-1\" style=\"text-decoration:none;color:#484848\" class=\"containerCheck\" data-entry=\"\'+title\r\n      + \'\" data-value=\"\' +items[i]+\r\n      \'\">\'+items[i]+\'<input type=\"radio\"\'+($(\"input[placeholder=\'\"+title+\"\']\").attr(\"value\") == items[i] ? \' checked\' : \'\')+\r\n      \'></input><span class=\"checkmarkRadio\"></span></a></li>\');\r\n    return false;\r\n  });\r\n\r\n  $(\"body\").on(\"click\", \".menuMulti\", function (e) {\r\n    var $menu = $(\".svgMenuMulti\")\r\n      .show()\r\n      .css({left: Math.max(0, e.pageX-50), top: Math.max(0, e.pageY-50)})\r\n      .off(\'click\')\r\n      .on(\"mouseleave\", function(){\r\n        $(this).hide()\r\n        .children(\"li:nth-child(n+3)\").remove();\r\n      })\r\n      .on(\'click\', \'a\', function (e) {\r\n        e.stopImmediatePropagation();\r\n        var chk = $(this).children(\"input\").attr(\"checked\");\r\n        if (chk)\r\n          $(this).children(\"input\").removeAttr(\"checked\");\r\n        else\r\n          $(this).children(\"input\").attr(\"checked\",\"\");\r\n        //on fixe la valeur de l\'entrée de formulaire\r\n        var $entry = $(\"input[placeholder=\'\"+$(this).attr(\'data-entry\')+\"\']\");\r\n        var value = $entry.attr(\"value\");\r\n        var newValue = $(this).attr(\'data-value\');\r\n        var idx;\r\n        if (value && (idx=value.trim().split(\",\").findIndex(function(v){return v==newValue})) >= 0)\r\n          $entry.attr(\"value\",value.trim().split(\",\").filter(function(v,i){return i!=idx}).join());\r\n        else if (value && value != \"\")\r\n          $entry.attr(\"value\", value + \",\" + newValue);\r\n        else\r\n          $entry.attr(\"value\", newValue);\r\n        setOsteoSelected($(this).attr(\'data-entry\'));\r\n      });\r\n    var title = $(this).attr(\"value\");\r\n    var items = $(this).attr(\"menu\").trim().split(\",\");\r\n    var value = $(\"input[placeholder=\'\"+title+\"\']\").attr(\"value\");\r\n    $menu.children().first().html(title);\r\n    $menu.children((\"li:gt(1)\")).remove();\r\n    for (var i=0; i< items.length; i++)\r\n      $menu.append(\'<li><a tabindex=\"-1\" style=\"text-decoration:none;color:#484848\" class=\"containerCheck\" data-entry=\"\'+title\r\n      + \'\" data-value=\"\' +items[i]+\r\n      \'\">\'+items[i]+\'<input type=\"checkbox\"\'+ ((value && value.trim().split(\",\").findIndex(function(v){return v==items[i]}) >= 0) ? \' checked\' : \'\')+\r\n      \'></input><span class=\"checkmarkCheck\"></span></a></li>\');\r\n    return false;\r\n  });\r\n\r\n  $(\"body\").on(\"click\", function(){\r\n    $(\".svgMenuSingle,.svgMenuMulti\").hide().children(\"li:nth-child(n+3)\").remove();\r\n  });\r\n\r\n  $(\"body\").on(\"click\", \".noMenu\", function(e){\r\n    e.stopImmediatePropagation();\r\n    var $entry = $(\"input[placeholder=\'\"+$(this).attr(\"value\")+\"\']\");\r\n    if ($entry.attr(\"value\") == \"true\")\r\n      $entry.attr(\"value\", \"\");\r\n    else\r\n      $entry.attr(\"value\", \"true\");\r\n    setOsteoSelected($(this).attr(\"value\"));\r\n  });\r\n\r\n  $(\"body\").on(\"mouseenter\", \".os,.articulation\", function(e){\r\n      this.className.baseVal+=\" show\";\r\n      $(\"#mousehelper\").html($(this).attr(\"value\"))\r\n      .removeClass(\"hide\").css(\"left\", (e.pageX-100)+\"px\").css(\"top\", (e.pageY-50)+\"px\");\r\n  });\r\n\r\n  $(\"body\").on(\"mouseleave\", \".show\", function(){\r\n    if(this.className.baseVal) this.className.baseVal=this.className.baseVal.replace(\" show\", \"\");\r\n    $(\"#mousehelper:not(.hide)\").html(\"\").addClass(\"hide\");\r\n  });\r\n\r\n});')
ON DUPLICATE KEY UPDATE module=values(module), internalName=values(internalName), name=values(name), description=values(description), dataset=values(dataset), groupe=values(groupe), formMethod=values(formMethod), formAction=values(formAction), cat=@catID, type=values(type), yamlStructure=values(yamlStructure), options=values(options), printModel=values(printModel), cda=values(cda), javascript=values(javascript);